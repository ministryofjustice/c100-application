<% title t('.page_title') %>
<% step_header %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <%= govuk_error_summary %>

    <%= step_form @form_object, builder: GOVUKDesignSystemFormBuilder::FormBuilder do |f| %>
      <%= f.govuk_radio_buttons_fieldset(:email_consent, legend: { size: 'xl' }) do %>
        <p class="govuk-body-l govuk-!-margin-top-3">
          <%=t '.lead_text' %>
        </p>

        <%= f.govuk_radio_button :email_consent, GenericYesNo::YES, link_errors: true do %>
          <%= f.govuk_email_field :email_address, width: 'three-quarters', autocomplete: 'email', spellcheck: false %>
        <% end  %>
        <%= f.govuk_radio_button :email_consent, GenericYesNo::NO %>
      <% end %>

      <%= f.continue_button %>
    <% end %>

    <details class="govuk-details" data-module="govuk-details">
      <summary class="govuk-details__summary">
        <span class="govuk-details__summary-text" data-ga-category="explanations" data-ga-label="screener consent">
          <%=t '.details.summary' %>
        </span>
      </summary>
      <div class="govuk-details__text">
        <%=t '.details.text_html' %>
      </div>
    </details>
  </div>
</div>
